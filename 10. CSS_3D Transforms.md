# 3D Transforms
CSS 변형(2D transform)은 좌표공간을 변형함으로써 일반적인 문서 흐름을 방해하지 않고 콘텐츠의 형태와 위치를 바꾼다.    
    
즉, 변형으로써 이동을 시키거나 크기, 회전, 비틀림을 제어하는 경우에 사용했으며 어디까지나 이 트랜스폼은 X축, Y축 좌표만을 조정할 수 있는 2D 였다.    
    
이 2D에서 더 나아가 3D에 관련된 CSS 속성을 알아보도록 한다.

# 3D transform을 위한 속성
3D 공간에서의 CSS 변환은 좀 더 복잡하다.    
    
```CSS 3D transform``` 은 평면에서의 여러 개 CSS 속성을 조합하고 3D 공간에서의 회전, 확대, 이동, 비틀기를 포함하고 **원근감, 관찰자의 위치을 부여**해 3D 공간을 만들어 낼 수 있다.    
    
그리고 ```3D transform``` 은 크게 트랜스폼을 적용할 요소에 적용하는 속성과 자식 요소를 3D로 처리하기 위해 부모 요소에 설정하기 위한 속성이 있다.    

## 트랜스폼을 적용할 요소에 적용하는 속성
* ```transform-origin``` : 회전을 시킬 축을 결정, 기본값은 transform-origin: 50% 50%;
    
* ```backface-visibility``` :입체적인 뒷면의 가시성을 결정하는 속성,
즉, 변형이 가해져서 요소의 뒷면(뒤집힌 것)을 숨기거나 보여지게 할 수 있다.

* ```rotateX()```
* ```rotateY()```
* ```rotateZ() = rotate()```
* ```rotate3d(x, y, z)```
    
* ```translateX()```
* ```translateY()```
* ```translateZ() = translate()```
* ```translate3d(x, y, z)```
    
* ```scaleX()```
* ```scaleY()```
* ```scaleZ() = scale()```
* ```scale3d(x, y, z)```
    
* ```skewX()``` : skew 는 **skewZ() 인 Z축이 없으며 사실 3D가 아니다.**(생동감만 부여할 뿐..)
* ```skewY()```
* ```skew()```
    
* ```perspective``` : 원근, 소실점, 투시도법(가까이 있는 사물은 커보이고 멀리 있는 사물은 작아보이는 것)
예를 들어, 평면에서 입체적으로 보여주기 위해 건축도면(설계도) 등에서 투시도법을 많이 사용함.

## 자식 요소를 3D 처리하기 위한 부모 요소에 설정하기 위한 속성
* ```perspective``` : 원근, 소실점, 투시도법
* ```perspective-origin``` : 원근법에 대한 기준점을 설정
* ```transform-style```: preserve-3d : 요소의 자식이 3D 공간에 배치

## 3D 환경을 위한 perspective(투영점, 원근, 소실점, 투시도법)
3D 효과를 표현하기 위해서는 2D 효과인 transform, transition 등에 3D 를 위한 속성을 설정하고 가장 중요한 **투영점(perspective)을 지정** 하는 것이다.

3D 효과를 이해하기 위해 다음의 x축, y축, z축에 대한 그림을 참고하면 좋다.

![image](https://github.com/LDH9219/CSS_Summary/assets/62749021/ba0720ac-b675-4bc3-b442-f9b98d6c351f)
![image](https://github.com/LDH9219/CSS_Summary/assets/62749021/f8d26266-d526-47e3-91f1-2fb60da51e1e)

<br>

3D 공간을 구성하기 위해서는 소실점(투영점, 원근감)을 지정해야 한다.    
    
그렇지 않으면 의도한 3D 효과가 나타나지 않고 평면으로 보이게 될 것이다.    
    
```Perspective``` 속성은 원근감을 표시할 수 있도록 관찰자 시점(위치)의 거리를 지정하는 속성으로 Z 인덱스와 관찰자 사이의 거리에 영향을줌으로써 요소에 3D 공간을 제공한다.    
    
**즉, Perspective 평면(z = 0)과 사용자(관찰자) 사이의 거리를 결정한다.**    
    
```z > 0```인 각 3D 요소가 커지고, ```z < 0``` 인 각 3D 요소는 더 작아진다.    
    
효과의 강도는 이 ```perspective``` 속성값이 커질수록 왜곡이 적어지게 된다. 즉, 관찰자 위치가 가까이서 본 형태의 3d 로 나타나게 된다.    

**Perspective 속성값**
* ```none``` : 원근감 변환을 적용하지 않아야 함을 나타내는 키워드이다.
* ```length``` : 사용자로부터 평면(z = 0)까지의 거리를 나타낸다. 요소와 내용에 원근감 변환을 적용하는 데 사용된다. 0 또는 음수 값이면 원근감 변환이 적용되지 않는다.

## 부모 요소의 소실점 VS 변형시킬 대상 요소의 소실점
컨테이너인 부모요소에 ```perspective``` 속성을 사용하는 것과 변형 대상 요소에 이 속성을 사용하는 것은 근본적으로 다른 결과를 만들어 낸다.    
    
특히 3D 변형이 적용된 요소가 형제 요소들을 가지고 있을 때 다른 결과를 낳게 된다.    


## perspective & translate
z축으로 150px 만큼 이동하고 부모요소에 소실점을 반영하고 요소를 움직일 때 ```perspective``` 값을 명시하지 않고 z축을 따라 100px 을 이동시킨다면 당연히 요소에 어떠한 시각적인 변화도 일어나지 않는다.    
    
다시 말해 z축을 따라 100px 만큼 움직이지만 거리를 가늠할 관점이 없기 때문에 분명하게 드러나지 않는 것이다.    
    
그래서 3D 환경을 구성하기 위해 컨테이너 요소에 ```perspective``` 를 선언하면 위와 같은 결과가 나타나게 된다.    
    
위의 결과는 요소가 관찰자와 가까운 쪽으로 움직이면서 요소의 크기가 커지고 있다.    
    
이는 ```translateZ()``` 함수와 ```perspective``` 속성은 동일한 축에서 동작한다는 것을 이해해야 한다.

## 소실점과 트랜스폼 속성 적용 순서에 따른 효과
Y축으로 이동을 시킨 후 회전을 시킬 경우의 결과를 확인해 보면 Y축으로 200px 만큼 이동하고 나서 회전을 하게 된다.    
    
시각적인 효과는 이동하면서 회전하듯이 아니면 회전하면서 이동하는 것처럼 보이지만 실제로는 이동을 한 후 회전을 하게 되는 것이다.    
    
**즉, 코드에 선언한 순서대로 동작하게 된다.**

위와 반대의 경우 또한 존재한다.    
    
위와 같은 효과이지만 변형 효과를 위와는 반대로 먼저 회전을 시키고 Y축으로 이동을 시킬 경우 결과를 확인해 보면 단지 이동과 회전의 선언 순서만을 바꾸었을 뿐인데 완전히 다른 효과가 나타난다.    
    
이는 **먼저 45도 각도로 회전을 한 후에 그 회전 축을 기점으로 Y축으로 200px 만큼 이동한 것이기 때문에 이와 같은 효과가 나타나는 것** 이다.    

## backface-visibility(이면가시성)
뒤집어 진 것을 보여주거나 감출 수 있는 backface-visibility 속성에 대해 알아본다.    
    
backface-visibility 속성은 3D 변형과 연관되어 있으며 입체적인 뒷면의 가시성(뒤집어진 면)을 결정하는 속성이다.    
    
즉, 변형이 가해져서 요소가 뒤집어 졌을 때, 이 속성으로 숨기거나 보여지게 할 수 있다.    
    
**backface-visibility 속성값**
* ```visible``` : 기본값으로 이면(뒷면)을 보여준다.
* ```hidden``` : 뒤집어진 면을 숨긴다.
